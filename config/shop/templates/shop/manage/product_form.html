{%extends 'shop/base.html'%}
{%load static%}
{%block title%}{%if mode == 'create'%}New product {%else%}Edit product{%endif%}{%endblock%}
{%block content%}
<section class="panel">
    <h2 style="margin-top:0">{% if mode == 'create' %}New product{% else %}Edit: {{ product.name }}{% endif %}</h2>
    <form method="post" enctype="multipart/form-data" style="display:grid;gap:12px;max-width:640px">
    {% csrf_token %}
    {% for field in form %}
    <label for="{{field.id_for_label}}">{{field.label}}</label>
    {{field}}
    {%if field.errors%}<div class="muted" style="color:#ff8a8a">{{field.errors|striptags}}</div>{%endif%}
    {%endfor%}

    <div style="display:flex; gap:10px;">
        <a class="btn" href="{%url 'shop:manage_products'%}">Cancel</a>
        <button class="btn btn--primary" type="submit">Save</button>
    </div>
    
</section>
{%endblock%}